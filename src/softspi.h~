#ifndef _SPI_H_
#define _SPI_H_

#include <stdint.h>
#include <avr/io.h>

/* default pins */
#define SOFTSPI_CLK_DDR DDRC
#define SOFTSPI_CLK_PORT PORTC
#define SOFTSPI_CLK_MASK (1 << PC1)
#define SOFTSPI_MOSI_DDR DDRC
#define SOFTSPI_MOSI_PORT PORTC
#define SOFTSPI_MOSI_MASK (1 << PC0)
#define SOFTSPI_MISO_DDR DDRC
#define SOFTSPI_MISO_PIN PINC
#define SOFTSPI_MISO_MASK (1 << PC3)

void softspi_setup_master(void);
//static inline void softspi_write_bit(uint8_t x, uint8_t m);
void softspi_write_uint8(uint8_t x);
//static inline void softspi_write_uint16(uint16_t x);
//static inline void softspi_read_bit(uint8_t* x, uint8_t i);
uint8_t softspi_read_uint8(void);
//static inline uint16_t softspi_read_uint16(void);
void softspi_read(uint8_t* data, uint8_t len);
void softspi_write(uint8_t* data, uint8_t len);


#endif /* _SPI_H_ */
